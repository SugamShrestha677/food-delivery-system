{% extends "sidebar.html" %}
{% load static %}
{% block content %}
        <!-- Main Content -->
        <div class="flex-1 flex flex-col min-w-0">
            <!-- Header -->
            <header class="bg-white border-b border-brand-light-gray px-4 md:px-8 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <button id="mobileMenuBtn" class="md:hidden p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl md:text-2xl font-bold text-black">Restaurant Profile</h1>
                    </div>
                    <div class="flex items-center gap-4">
                        <button id="editProfileBtn" class="bg-brand-orange hover:bg-brand-orange/90 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                            <span class="hidden sm:inline">Edit Profile</span>
                        </button>
                        <div class="relative">
                            <button class="p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM9 7H4l5-5v5zM15 7h5l-5-5v5zM9 17H4l5 5v-5z"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="w-8 h-8 bg-brand-light-gray rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-brand-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <main class="flex-1 p-4 md:p-8 overflow-auto">
                <!-- Profile Header -->
                <div class="bg-white border border-brand-light-gray rounded-lg p-6 md:p-8 mb-6">
                    <div class="flex flex-col md:flex-row items-center gap-6">
                        <div class="relative">
                            <div class="w-24 h-24 bg-brand-light-gray rounded-full flex items-center justify-center text-2xl font-bold text-brand-gray" id="profileAvatar">
                                <img class="profile w-[100%] h-[100%]" alt="Profile Photo">
                            </div>
                            <button class="absolute -bottom-2 -right-2 w-8 h-8 bg-brand-orange text-white rounded-full flex items-center justify-center hover:bg-brand-orange/90 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>  
                            </button>
                        </div>
                        <div class="text-center md:text-left">
                            <h2 class="restaurant_name text-2xl font-bold text-black" id="restaurantName"></h2>
                            <p class="text-brand-gray mb-2" id="restaurantType">Contact: <span class="contact"></span></p>
                            <p class="text-sm text-brand-gray" id="ownerName">Owner: <span class="owner_name"></span></p>
                        </div>
                    </div>
                </div>

                <!-- Tab Navigation -->
                <div class="bg-white border border-brand-light-gray rounded-lg">
                    <div class="border-b border-brand-light-gray">
                        <div class="flex overflow-x-auto">
                            <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap active" data-tab="general">
                                General Info
                            </button>
                            <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap" data-tab="hours">
                                Operating Hours
                            </button>
                            <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap" data-tab="settings">
                                Settings
                            </button>
                            <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap " data-tab="security">
                                Security
                            </button>
                        </div>
                    </div>

                    <!-- Tab Content -->
                    <div class="p-6">
                        <!-- General Info Tab -->
                        <div id="generalTab" class="tab-content ">
                            <h3 class="text-xl font-bold text-black mb-2">General Information</h3>
                            <p class="text-brand-gray mb-6">Manage your restaurant's basic information</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-brand-gray mb-2">Restaurant Name</label>
                                    <input type="text" id="" value="" class="restaurant_name w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-brand-gray mb-2">Delivery fees</label>
                                    <input type="text" id="generalRestaurantType" value="Italian Restaurant" class="delivery_fees w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-brand-gray mb-2">Owner Name</label>
                                    <input type="text" id="generalOwnerName" value="" class="owner_name w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-brand-gray mb-2">Phone Number</label>
                                    <input type="tel" id="generalPhone" value="" class="contact w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-brand-gray mb-2">Address</label>
                                    <textarea id="generalAddress" rows="3" class="address w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">123 Main Street, Downtown, New York, NY 10001</textarea>
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-brand-gray mb-2">Description</label>
                                    <textarea id="generalDescription" rows="4" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">Authentic Italian cuisine in the heart of downtown. We serve traditional dishes made with fresh, locally sourced ingredients.</textarea>
                                </div>
                            </div>
                            
                            <div class="flex justify-end mt-6">
                                <button class="px-6 py-2 bg-brand-orange text-white rounded-lg hover:bg-brand-orange/90 transition-colors">
                                    Save Changes
                                </button>
                            </div>
                        </div>

                        <!-- Operating Hours Tab -->
                        <div id="hoursTab" class="tab-content hidden">
                            <h3 class="text-xl font-bold text-black mb-2">Operating Hours</h3>
                            <p class="text-brand-gray mb-6">Set your restaurant's operating hours for each day</p>
                            
                            <div class="space-y-4" id="operatingHours">
                                <!-- Operating hours will be populated by JavaScript -->
                            </div>
                            
                            <div class="flex justify-end mt-6">
                                <button class="px-6 py-2 bg-brand-orange text-white rounded-lg hover:bg-brand-orange/90 transition-colors">
                                    Save Hours
                                </button>
                            </div>
                        </div>

                        <!-- Settings Tab -->
                        <div id="settingsTab" class="tab-content hidden">
                            <h3 class="text-xl font-bold text-black mb-2">Restaurant Settings</h3>
                            <p class="text-brand-gray mb-6">Configure your restaurant preferences</p>
                            
                            <div class="space-y-6">
                                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                    <div>
                                        <h4 class="font-medium text-black">Email Notifications</h4>
                                        <p class="text-sm text-brand-gray">Receive email notifications for new orders</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                                    </label>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                    <div>
                                        <h4 class="font-medium text-black">SMS Notifications</h4>
                                        <p class="text-sm text-brand-gray">Receive SMS alerts for urgent orders</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                                    </label>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                    <div>
                                        <h4 class="font-medium text-black">Auto-Accept Orders</h4>
                                        <p class="text-sm text-brand-gray">Automatically accept orders during business hours</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Security Tab -->
                        <div id="securityTab" class="tab-content hidden">
                            <h3 class="text-xl font-bold text-black mb-2">Security Settings</h3>
                            <p class="text-brand-gray mb-6">Manage your account security</p>
                            
                            <div class="space-y-6">
                                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                    <div>
                                        <h4 class="font-medium text-black">Change Password</h4>
                                        <p class="text-sm text-brand-gray">Update your account password</p>
                                    </div>
                                    <button id="changePasswordBtn" class="flex items-center gap-2 px-4 py-2 text-brand-orange border border-brand-orange rounded-lg hover:bg-brand-orange hover:text-white transition-colors">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2L3.257 9.257A6 6 0 0115 7z"></path>
                                        </svg>
                                        Change Password
                                    </button>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                    <div>
                                        <h4 class="font-medium text-black">Two-Factor Authentication</h4>
                                        <p class="text-sm text-brand-gray">Add an extra layer of security</p>
                                    </div>
                                    <button id="enable2FABtn" class="flex items-center gap-2 px-4 py-2 text-brand-orange border border-brand-orange rounded-lg hover:bg-brand-orange hover:text-white transition-colors">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                        </svg>
                                        Enable 2FA
                                    </button>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                    <div>
                                        <h4 class="font-medium text-black">Login Sessions</h4>
                                        <p class="text-sm text-brand-gray">Manage active login sessions</p>
                                    </div>
                                    <button id="viewSessionsBtn" class="flex items-center gap-2 px-4 py-2 text-brand-gray border border-brand-light-gray rounded-lg hover:bg-brand-light-gray transition-colors">
                                        View Sessions
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="passwordModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden modal">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg w-full max-w-md modal-content">
                <div class="p-6 border-b border-brand-light-gray">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-black">Change Password</h3>
                        <button id="closePasswordModal" class="p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <form id="passwordForm" class="p-6">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-brand-gray mb-2">Current Password</label>
                            <input type="password" id="currentPassword" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-brand-gray mb-2">New Password</label>
                            <input type="password" id="newPassword" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-brand-gray mb-2">Confirm New Password</label>
                            <input type="password" id="confirmPassword" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent" required>
                        </div>
                    </div>
                    <div class="flex justify-end gap-3 mt-6">
                        <button type="button" id="cancelPasswordBtn" class="px-4 py-2 text-brand-gray border border-brand-light-gray rounded-lg hover:bg-brand-light-gray transition-colors">
                            Cancel
                        </button>
                        <button type="submit" class="px-4 py-2 bg-brand-orange text-white rounded-lg hover:bg-brand-orange/90 transition-colors">
                            Update Password
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Sessions Modal -->
    <div id="sessionsModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden modal">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg w-full max-w-2xl modal-content">
                <div class="p-6 border-b border-brand-light-gray">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-black">Active Login Sessions</h3>
                        <button id="closeSessionsModal" class="p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <div class="space-y-4" id="sessionsList">
                        <!-- Sessions will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>


        // Sample login sessions
        const loginSessions = [
            {
                id: 1,
                device: 'Chrome on Windows',
                location: 'New York, NY',
                lastActive: '2 minutes ago',
                current: true
            },
            {
                id: 2,
                device: 'Safari on iPhone',
                location: 'New York, NY',
                lastActive: '1 hour ago',
                current: false
            },
            {
                id: 3,
                device: 'Firefox on Mac',
                location: 'Brooklyn, NY',
                lastActive: '3 days ago',
                current: false
            }
        ];

        // Mobile menu functionality
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const sidebar = document.getElementById('sidebar');
        const mobileOverlay = document.getElementById('mobileOverlay');

        function toggleMobileMenu() {
            sidebar.classList.toggle('sidebar-hidden');
            mobileOverlay.classList.toggle('hidden');
        }

        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        mobileOverlay.addEventListener('click', toggleMobileMenu);

        // Tab functionality
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        function switchTab(tabName) {
            // Remove active class from all tabs
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.add('hidden'));

            // Add active class to selected tab
            const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
            const activeContent = document.getElementById(`${tabName}Tab`);

            if (activeTab && activeContent) {
                activeTab.classList.add('active');
                activeContent.classList.remove('hidden');
                activeContent.classList.add('fade-in');
            }
        }

        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabName = btn.dataset.tab;
                switchTab(tabName);
            });
        });

        // Modal functionality
        const passwordModal = document.getElementById('passwordModal');
        const sessionsModal = document.getElementById('sessionsModal');
        const changePasswordBtn = document.getElementById('changePasswordBtn');
        const viewSessionsBtn = document.getElementById('viewSessionsBtn');

        function openModal(modal) {
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function closeModal(modal) {
            modal.classList.remove('show');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        // Password modal
        changePasswordBtn.addEventListener('click', () => openModal(passwordModal));
        document.getElementById('closePasswordModal').addEventListener('click', () => closeModal(passwordModal));
        document.getElementById('cancelPasswordBtn').addEventListener('click', () => closeModal(passwordModal));

        // Sessions modal
        viewSessionsBtn.addEventListener('click', () => {
            renderSessions();
            openModal(sessionsModal);
        });
        document.getElementById('closeSessionsModal').addEventListener('click', () => closeModal(sessionsModal));

        // Close modals when clicking outside
        [passwordModal, sessionsModal].forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal(modal);
                }
            });
        });

        // Password form submission
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (newPassword !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }

            if (newPassword.length < 8) {
                showNotification('Password must be at least 8 characters long', 'error');
                return;
            }

            // Simulate password change
            showNotification('Password updated successfully');
            closeModal(passwordModal);
            this.reset();
        });

        // Render operating hours
        function renderOperatingHours() {
            const container = document.getElementById('operatingHours');
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            const dayNames = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];

            container.innerHTML = days.map((day, index) => {
                const hours = restaurantProfile.operatingHours[day];
                return `
                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                        <div class="flex items-center gap-4">
                            <span class="font-medium text-black w-20">${dayNames[index]}</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" ${!hours.closed ? 'checked' : ''} onchange="toggleDayStatus('${day}')">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                            </label>
                            <span class="text-sm text-brand-gray">${hours.closed ? 'Closed' : 'Open'}</span>
                        </div>
                        <div class="flex items-center gap-2 ${hours.closed ? 'opacity-50' : ''}">
                            <input type="time" value="${hours.open}" class="px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent time-picker" ${hours.closed ? 'disabled' : ''} onchange="updateHours('${day}', 'open', this.value)">
                            <span class="text-brand-gray">to</span>
                            <input type="time" value="${hours.close}" class="px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent time-picker" ${hours.closed ? 'disabled' : ''} onchange="updateHours('${day}', 'close', this.value)">
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Toggle day status
        function toggleDayStatus(day) {
            restaurantProfile.operatingHours[day].closed = !restaurantProfile.operatingHours[day].closed;
            renderOperatingHours();
        }

        // Update hours
        function updateHours(day, type, value) {
            restaurantProfile.operatingHours[day][type] = value;
        }

        // Render sessions
        function renderSessions() {
            const container = document.getElementById('sessionsList');
            container.innerHTML = loginSessions.map(session => `
                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-brand-light-gray rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-brand-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="font-medium text-black flex items-center gap-2">
                                ${session.device}
                                ${session.current ? '<span class="px-2 py-1 bg-brand-green text-white text-xs rounded-full">Current</span>' : ''}
                            </div>
                            <div class="text-sm text-brand-gray">${session.location} • ${session.lastActive}</div>
                        </div>
                    </div>
                    ${!session.current ? `
                        <button onclick="terminateSession(${session.id})" class="px-3 py-1 text-brand-red border border-brand-red rounded hover:bg-brand-red hover:text-white transition-colors">
                            Terminate
                        </button>
                    ` : ''}
                </div>
            `).join('');
        }

        // Terminate session
        function terminateSession(sessionId) {
            if (confirm('Are you sure you want to terminate this session?')) {
                const sessionIndex = loginSessions.findIndex(s => s.id === sessionId);
                if (sessionIndex !== -1) {
                    loginSessions.splice(sessionIndex, 1);
                    renderSessions();
                    showNotification('Session terminated successfully');
                }
            }
        }

        // 2FA functionality
        document.getElementById('enable2FABtn').addEventListener('click', function() {
            if (this.textContent.includes('Enable')) {
                showNotification('2FA setup initiated. Check your email for instructions.');
                this.innerHTML = `
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Disable 2FA
                `;
                this.classList.remove('text-brand-orange', 'border-brand-orange');
                this.classList.add('text-brand-green', 'border-brand-green');
            } else {
                if (confirm('Are you sure you want to disable 2FA? This will make your account less secure.')) {
                    showNotification('2FA has been disabled');
                    this.innerHTML = `
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                        Enable 2FA
                    `;
                    this.classList.remove('text-brand-green', 'border-brand-green');
                    this.classList.add('text-brand-orange', 'border-brand-orange');
                }
            }
        });

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const bgColor = type === 'error' ? 'bg-brand-red' : 'bg-brand-green';
            notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize
        

        // Responsive handling
        window.addEventListener('resize', function() {
            if (window.innerWidth < 768) {
                sidebar.classList.add('sidebar-hidden');
                mobileOverlay.classList.add('hidden');
            }
        });
    </script>
    <script src="{% static 'js/restaurant_profile.js' %}"></script>
{% endblock %}