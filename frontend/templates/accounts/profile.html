<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodDash - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-orange': '#ff6600',
                        'brand-orange-dark': '#e55a00',
                        'brand-orange-light': '#ff8533',
                        'brand-gray': '#6b7280',
                        'brand-dark': '#374151',
                        'brand-light': '#f9fafb',
                        'brand-orange': '#ff6600',
                        'brand-gray': '#535352',
                        'brand-light-gray': '#eef0f3',
                        'brand-cream': '#f9f4e5',
                        'brand-yellow': '#fbbe25',
                        'brand-light-yellow': '#fef9c3',
                        'brand-green': '#16a249',
                        'brand-brown': '#a16b45',
                        'brand-red': '#dc2626',
                        'brand-blue': '#2563eb'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-out',
                        'slide-in': 'slideIn 0.8s ease-out',
                        'bounce-gentle': 'bounceGentle 2s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'progress': 'progress 2s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideIn: {
                            '0%': { opacity: '0', transform: 'translateX(-20px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' }
                        },
                        bounceGentle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' }
                        },
                        progress: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(100%)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-hero {
            background: linear-gradient(135deg, #ff6600 0%, #ff8533 50%, #10b981 100%);
        }
        
        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }
        
        @media (max-width: 768px) {
            .sidebar-hidden {
                transform: translateX(-100%);
            }
        }
        
        .progress-bar {
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 30%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progress 2s ease-in-out infinite;
        }
        
        .notification-dot {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }



                .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }
        
        @media (max-width: 768px) {
            .sidebar-hidden {
                transform: translateX(-100%);
            }
        }
        
        .notification-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .order-row:hover {
            background-color: #f8fafc;
        }
        
        .stats-card {
            transition: transform 0.2s ease-in-out;
        }
        
        .stats-card:hover {
            transform: translateY(-2px);
        }







        .status-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        
        .status-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

                .tab-button.active {
            border-bottom: 2px solid #ff6600;
            color: #ff6600;
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .notification-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        






        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #ff6600;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }
        
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        
        .modal-content {
            transition: transform 0.3s ease-in-out;
            transform: scale(0.9);
        }
        
        .modal.show .modal-content {
            transform: scale(1);
        }

        .time-picker {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }




        /* Modal animations */
        .modal-overlay {
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
        }
        
        .modal-overlay.show {
            opacity: 1;
        }
        
        .modal-content {
            transition: all 0.3s ease-in-out;
            transform: scale(0.9) translateY(-20px);
            opacity: 0;
        }
        
        .modal-overlay.show .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
        
        /* Backdrop blur effect */
        .backdrop-blur {
            backdrop-filter: blur(4px);
        }
        
        /* Button hover animations */
        .btn-hover {
            transition: all 0.2s ease-in-out;
        }
        
        .btn-hover:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

    </style>
</head>
{% load static %}
{% block content %}


<body class="flex">
    
    <div>
        <a href="/customer/dashboard/"><h1>Back</h1></a>
    </div>
            <!-- Main Content -->
            <div class="flex-1 flex flex-col min-w-0">
                <!-- Header -->
                <header class="bg-white border-b border-brand-light-gray px-4 md:px-8 py-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <button id="mobileMenuBtn" class="md:hidden p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                            </button>
                            <h1 class="text-xl md:text-2xl font-bold text-black">Your Profile</h1>
                        </div>
                        <div class="flex items-center gap-4">
                            <button id="editProfileBtn" class="bg-brand-orange hover:bg-brand-orange/90 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                </svg>
                                <span class="hidden sm:inline">Edit Profile</span>
                            </button>
                            <div class="relative">
                                <button class="p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM9 7H4l5-5v5zM15 7h5l-5-5v5zM9 17H4l5 5v-5z"></path>
                                    </svg>
                                </button>
                            </div>
                            <div class="w-8 h-8 bg-brand-light-gray rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-brand-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </header>
    
                <!-- Content -->
                <main class="flex-1 p-4 md:p-8 overflow-auto">
                    <!-- Profile Header -->
                    <div class="bg-white border border-brand-light-gray rounded-lg p-6 md:p-8 mb-6">
                        <div class="flex flex-col md:flex-row items-center gap-6">
                            <div class="relative">
                                <img id="photo" src="" alt="Profile Photo" width="100" height="100" />
                                <button class="absolute -bottom-2 -right-2 w-8 h-8 bg-brand-orange text-white rounded-full flex items-center justify-center hover:bg-brand-orange/90 transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                </button>
                            </div>
                            <div class="text-center md:text-left">
                                <h2 class="text-2xl font-bold text-black" id="restaurantName"><span class="username"></span></h2>
                                <p>Email: <span id="email"></span></p>
                                <p>Role: <span id="role"></span></p>
                            </div>
                        </div>
                    </div>
    
                    <!-- Tab Navigation -->
                    <div class="bg-white border border-brand-light-gray rounded-lg">
                        <div class="border-b border-brand-light-gray">
                            <div class="flex overflow-x-auto">
                                <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap active" data-tab="general">
                                    General Info
                                </button>
                                <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap" data-tab="settings">
                                    Settings
                                </button>
                                <button class="tab-button px-6 py-3 text-sm font-medium text-brand-gray hover:text-brand-orange transition-colors whitespace-nowrap " data-tab="security">
                                    Security
                                </button>
                            </div>
                        </div>
    
                        <!-- Tab Content -->
                        <div class="p-6">
                            <!-- General Info Tab -->
                            <div id="generalTab" class="tab-content ">
                                <h3 class="text-xl font-bold text-black mb-2">General Information</h3>
                                <p class="text-brand-gray mb-6">Manage your profile's basic information</p>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-brand-gray mb-2">Username</label>
                                        <input type="text" id="generalRestaurantName" value='' class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-brand-gray mb-2">Email</label>
                                        <input type="text" id="emails" value="" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-brand-gray mb-2">Customer ID</label>
                                        <input type="text" id="generalid" value="" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-brand-gray mb-2">Phone Number</label>
                                        <input type="tel" id="generalPhone" value="" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">
                                    </div>
                                    <div class="md:col-span-2">
                                        <label class="block text-sm font-medium text-brand-gray mb-2">Address</label>
                                        <textarea id="generalAddress" rows="3" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent"></textarea>
                                    </div>
                                    <div class="md:col-span-2">
                                        <label class="block text-sm font-medium text-brand-gray mb-2">Date Joined</label>
                                        <textarea id="dateJoined" rows="4" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent">Authentic Italian cuisine in the heart of downtown. We serve traditional dishes made with fresh, locally sourced ingredients.</textarea>
                                    </div>
                                </div>
                                
                                <div class="flex justify-end mt-6">
                                    <button class="px-6 py-2 bg-brand-orange text-white rounded-lg hover:bg-brand-orange/90 transition-colors">
                                        Save Changes
                                    </button>
                                </div>
                                
                            </div>
    
                        
    
                            <!-- Settings Tab -->
                            <div id="settingsTab" class="tab-content hidden">
                                <h3 class="text-xl font-bold text-black mb-2">Restaurant Settings</h3>
                                <p class="text-brand-gray mb-6">Configure your restaurant preferences</p>
                                
                                <div class="space-y-6">
                                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                        <div>
                                            <h4 class="font-medium text-black">Email Notifications</h4>
                                            <p class="text-sm text-brand-gray">Receive email notifications for new orders</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                                        </label>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                        <div>
                                            <h4 class="font-medium text-black">SMS Notifications</h4>
                                            <p class="text-sm text-brand-gray">Receive SMS alerts for urgent orders</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                                        </label>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                        <div>
                                            <h4 class="font-medium text-black">Auto-Accept Orders</h4>
                                            <p class="text-sm text-brand-gray">Automatically accept orders during business hours</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
    
                            <!-- Security Tab -->
    
                            <div id="securityTab" class="tab-content hidden">
                                <h3 class="text-xl font-bold text-black mb-2">Security Settings</h3>
                                <p class="text-brand-gray mb-6">Manage your account security</p>
                                
                                <div class="space-y-6">
                                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                        <div>
                                            <h4 class="font-medium text-black">Change Password</h4>
                                            <p class="text-sm text-brand-gray">Update your account password</p>
                                        </div>
                                        <button id="changePasswordBtn" class="flex items-center gap-2 px-4 py-2 text-brand-orange border border-brand-orange rounded-lg hover:bg-brand-orange hover:text-white transition-colors">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2L3.257 9.257A6 6 0 0115 7z"></path>
                                            </svg>
                                            Change Password
                                        </button>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                        <div>
                                            <h4 class="font-medium text-black">Two-Factor Authentication</h4>
                                            <p class="text-sm text-brand-gray">Add an extra layer of security</p>
                                        </div>
                                        <button id="enable2FABtn" class="flex items-center gap-2 px-4 py-2 text-brand-orange border border-brand-orange rounded-lg hover:bg-brand-orange hover:text-white transition-colors">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                            </svg>
                                            Enable 2FA
                                        </button>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                                        <div>
                                            <h4 class="font-medium text-black">Login Sessions</h4>
                                            <p class="text-sm text-brand-gray">Manage active login sessions</p>
                                        </div>
                                        <button id="viewSessionsBtn" class="flex items-center gap-2 px-4 py-2 text-brand-gray border border-brand-light-gray rounded-lg hover:bg-brand-light-gray transition-colors">
                                            View Sessions
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </main>
            </div>
        </div>
    
        <!-- Change Password Modal -->
        <div id="passwordModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden modal">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg w-full max-w-md modal-content">
                    <div class="p-6 border-b border-brand-light-gray">
                        <div class="flex items-center justify-between">
                            <h3 class="text-xl font-bold text-black">Change Password</h3>
                            <button id="closePasswordModal" class="p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <form id="passwordForm" class="p-6">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-brand-gray mb-2">Current Password</label>
                                <input type="password" id="currentPassword" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-brand-gray mb-2">New Password</label>
                                <input type="password" id="newPassword" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-brand-gray mb-2">Confirm New Password</label>
                                <input type="password" id="confirmPassword" class="w-full px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent" required>
                            </div>
                        </div>
                        <div class="flex justify-end gap-3 mt-6">
                            <button type="button" id="cancelPasswordBtn" class="px-4 py-2 text-brand-gray border border-brand-light-gray rounded-lg hover:bg-brand-light-gray transition-colors">
                                Cancel
                            </button>
                            <button type="submit" class="px-4 py-2 bg-brand-orange text-white rounded-lg hover:bg-brand-orange/90 transition-colors">
                                Update Password
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    
        <!-- Sessions Modal -->
        <div id="sessionsModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden modal">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg w-full max-w-2xl modal-content">
                    <div class="p-6 border-b border-brand-light-gray">
                        <div class="flex items-center justify-between">
                            <h3 class="text-xl font-bold text-black">Active Login Sessions</h3>
                            <button id="closeSessionsModal" class="p-2 text-brand-gray hover:bg-brand-light-gray rounded-lg">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4" id="sessionsList">
                            <!-- Sessions will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
</body>













    <!-- Orders Page Content -->
                    <div id="ordersPage" class="page-content hidden">
                        <div class="mb-6">
                            <h1 class="text-2xl font-bold text-brand-dark mb-2">Your Orders</h1>
                            <p class="text-brand-gray">Track and manage your food orders</p>
                        </div>
                        
                        <div class="grid gap-4">
                            <!-- Sample Order Cards -->
                            <div class="bg-white rounded-lg p-6 border border-gray-200">
                                <div class="flex justify-between items-start mb-4">
                                    <div>
                                        <h3 class="font-semibold text-brand-dark">Bella Italia</h3>
                                        <p class="text-sm text-brand-gray">Order #ORD-12345</p>
                                    </div>
                                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">Delivered</span>
                                </div>
                                <p class="text-brand-gray text-sm mb-2">2 items • $38.48</p>
                                <p class="text-xs text-brand-gray">Delivered on March 15, 2024 at 3:15 PM</p>
                            </div>
                            
                            <div class="bg-white rounded-lg p-6 border border-gray-200">
                                <div class="flex justify-between items-start mb-4">
                                    <div>
                                        <h3 class="font-semibold text-brand-dark">Spice Garden</h3>
                                        <p class="text-sm text-brand-gray">Order #ORD-12344</p>
                                    </div>
                                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium">Preparing</span>
                                </div>
                                <p class="text-brand-gray text-sm mb-2">3 items • $42.99</p>
                                <p class="text-xs text-brand-gray">Ordered on March 15, 2024 at 1:30 PM</p>
                            </div>
                        </div>
                    </div>



                    <!-- Favorites Page Content -->
                    <div id="favoritesPage" class="page-content hidden">
                        <div class="mb-6">
                            <h1 class="text-2xl font-bold text-brand-dark mb-2">Your Favorites</h1>
                            <p class="text-brand-gray">Your most loved restaurants and dishes</p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Sample Favorite Cards -->
                            <div class="bg-white rounded-lg overflow-hidden border border-gray-200 hover-lift transition-all duration-300">
                                <div class="h-32 bg-gray-200"></div>
                                <div class="p-4">
                                    <h3 class="font-semibold text-brand-dark mb-1">Bella Italia</h3>
                                    <p class="text-sm text-brand-gray mb-2">Italian • 0.8 miles</p>
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-1">
                                            <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                            </svg>
                                            <span class="text-sm">4.8</span>
                                        </div>
                                        <button class="text-red-500 hover:text-red-700">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

    <script>
               // Restaurant profile data
        let restaurantProfile = {
            name: 'Bella Vista',
            type: 'Italian Restaurant',
            owner: 'Marco Rossini',
            phone: '+1 (555) 123-4567',
            address: '123 Main Street, Downtown, New York, NY 10001',
            description: 'Authentic Italian cuisine in the heart of downtown. We serve traditional dishes made with fresh, locally sourced ingredients.',
            operatingHours: {
                monday: { open: '11:00', close: '22:00', closed: false },
                tuesday: { open: '11:00', close: '22:00', closed: false },
                wednesday: { open: '11:00', close: '22:00', closed: false },
                thursday: { open: '11:00', close: '22:00', closed: false },
                friday: { open: '11:00', close: '23:00', closed: false },
                saturday: { open: '10:00', close: '23:00', closed: false },
                sunday: { open: '10:00', close: '21:00', closed: false }
            }
        };

        // Sample login sessions
        const loginSessions = [
            {
                id: 1,
                device: 'Chrome on Windows',
                location: 'New York, NY',
                lastActive: '2 minutes ago',
                current: true
            },
            {
                id: 2,
                device: 'Safari on iPhone',
                location: 'New York, NY',
                lastActive: '1 hour ago',
                current: false
            },
            {
                id: 3,
                device: 'Firefox on Mac',
                location: 'Brooklyn, NY',
                lastActive: '3 days ago',
                current: false
            }
        ];


        // Mobile menu functionality
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const sidebar = document.getElementById('sidebar');
        const mobileOverlay = document.getElementById('mobileOverlay');

        function toggleMobileMenu() {
            sidebar.classList.toggle('sidebar-hidden');
            mobileOverlay.classList.toggle('hidden');
        }

        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        mobileOverlay.addEventListener('click', toggleMobileMenu);



        // Modal functionality
        const passwordModal = document.getElementById('passwordModal');
        const sessionsModal = document.getElementById('sessionsModal');
        const changePasswordBtn = document.getElementById('changePasswordBtn');
        const viewSessionsBtn = document.getElementById('viewSessionsBtn');

        function openModal(modal) {
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function closeModal(modal) {
            modal.classList.remove('show');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        // Password modal
        changePasswordBtn.addEventListener('click', () => openModal(passwordModal));
        document.getElementById('closePasswordModal').addEventListener('click', () => closeModal(passwordModal));
        document.getElementById('cancelPasswordBtn').addEventListener('click', () => closeModal(passwordModal));

        // Sessions modal
        viewSessionsBtn.addEventListener('click', () => {
            renderSessions();
            openModal(sessionsModal);
        });
        document.getElementById('closeSessionsModal').addEventListener('click', () => closeModal(sessionsModal));

        // Close modals when clicking outside
        [passwordModal, sessionsModal].forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal(modal);
                }
            });
        });

        // Password form submission
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (newPassword !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }

            if (newPassword.length < 8) {
                showNotification('Password must be at least 8 characters long', 'error');
                return;
            }

            // Simulate password change
            showNotification('Password updated successfully');
            closeModal(passwordModal);
            this.reset();
        });

        // Render operating hours
        function renderOperatingHours() {
            const container = document.getElementById('operatingHours');
            const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
            const dayNames = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];

            container.innerHTML = days.map((day, index) => {
                const hours = restaurantProfile.operatingHours[day];
                return `
                    <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                        <div class="flex items-center gap-4">
                            <span class="font-medium text-black w-20">${dayNames[index]}</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" ${!hours.closed ? 'checked' : ''} onchange="toggleDayStatus('${day}')">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-orange/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-orange"></div>
                            </label>
                            <span class="text-sm text-brand-gray">${hours.closed ? 'Closed' : 'Open'}</span>
                        </div>
                        <div class="flex items-center gap-2 ${hours.closed ? 'opacity-50' : ''}">
                            <input type="time" value="${hours.open}" class="px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent time-picker" ${hours.closed ? 'disabled' : ''} onchange="updateHours('${day}', 'open', this.value)">
                            <span class="text-brand-gray">to</span>
                            <input type="time" value="${hours.close}" class="px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent time-picker" ${hours.closed ? 'disabled' : ''} onchange="updateHours('${day}', 'close', this.value)">
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Toggle day status
        function toggleDayStatus(day) {
            restaurantProfile.operatingHours[day].closed = !restaurantProfile.operatingHours[day].closed;
            renderOperatingHours();
        }

        // Update hours
        function updateHours(day, type, value) {
            restaurantProfile.operatingHours[day][type] = value;
        }

        // Render sessions
        function renderSessions() {
            const container = document.getElementById('sessionsList');
            container.innerHTML = loginSessions.map(session => `
                <div class="flex items-center justify-between p-4 border border-brand-light-gray rounded-lg">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-brand-light-gray rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-brand-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="font-medium text-black flex items-center gap-2">
                                ${session.device}
                                ${session.current ? '<span class="px-2 py-1 bg-brand-green text-white text-xs rounded-full">Current</span>' : ''}
                            </div>
                            <div class="text-sm text-brand-gray">${session.location} • ${session.lastActive}</div>
                        </div>
                    </div>
                    ${!session.current ? `
                        <button onclick="terminateSession(${session.id})" class="px-3 py-1 text-brand-red border border-brand-red rounded hover:bg-brand-red hover:text-white transition-colors">
                            Terminate
                        </button>
                    ` : ''}
                </div>
            `).join('');
        }

        // Terminate session
        function terminateSession(sessionId) {
            if (confirm('Are you sure you want to terminate this session?')) {
                const sessionIndex = loginSessions.findIndex(s => s.id === sessionId);
                if (sessionIndex !== -1) {
                    loginSessions.splice(sessionIndex, 1);
                    renderSessions();
                    showNotification('Session terminated successfully');
                }
            }
        }

        // 2FA functionality
        document.getElementById('enable2FABtn').addEventListener('click', function() {
            if (this.textContent.includes('Enable')) {
                showNotification('2FA setup initiated. Check your email for instructions.');
                this.innerHTML = `
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Disable 2FA
                `;
                this.classList.remove('text-brand-orange', 'border-brand-orange');
                this.classList.add('text-brand-green', 'border-brand-green');
            } else {
                if (confirm('Are you sure you want to disable 2FA? This will make your account less secure.')) {
                    showNotification('2FA has been disabled');
                    this.innerHTML = `
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                        Enable 2FA
                    `;
                    this.classList.remove('text-brand-green', 'border-brand-green');
                    this.classList.add('text-brand-orange', 'border-brand-orange');
                }
            }
        });

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const bgColor = type === 'error' ? 'bg-brand-red' : 'bg-brand-green';
            notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderOperatingHours();
            
            // Populate general info form
            document.getElementById('generalRestaurantName').value = restaurantProfile.name;
            document.getElementById('generalRestaurantType').value = restaurantProfile.type;
            document.getElementById('generalOwnerName').value = restaurantProfile.owner;
            document.getElementById('generalPhone').value = restaurantProfile.phone;
            document.getElementById('generalAddress').value = restaurantProfile.address;
            document.getElementById('generalDescription').value = restaurantProfile.description;
        });

        // Responsive handling
        window.addEventListener('resize', function() {
            if (window.innerWidth < 768) {
                sidebar.classList.add('sidebar-hidden');
                mobileOverlay.classList.add('hidden');
            }
        });
    </script>

    <script src="{% static 'js/customer_profile.js' %}"></script>
{% endblock %}